EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:picoPOKER-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 4
Title "picoPOKER Keyboard"
Date "2000-12-31"
Rev "-"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Entry Wire Line
	-2550 -2600 -2450 -2500
$Comp
L D_Schottky_x2_Serial_AKC D?
U 1 1 5865DF27
P 3850 2000
F 0 "D?" H 3900 1900 50  0000 C CNN
F 1 "BAV99W" H 3850 2100 50  0000 C CNN
F 2 "" H 3850 2000 50  0000 C CNN
F 3 "" H 3850 2000 50  0000 C CNN
	1    3850 2000
	0    -1   1    0   
$EndComp
$Comp
L SW_PUSH SW?
U 1 1 5865E04A
P 3800 1300
F 0 "SW?" H 3950 1410 50  0000 C CNN
F 1 "KEY" H 3800 1220 50  0000 C CNN
F 2 "" H 3800 1300 50  0000 C CNN
F 3 "" H 3800 1300 50  0000 C CNN
	1    3800 1300
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW?
U 1 1 5865E092
P 4850 1300
F 0 "SW?" H 5000 1410 50  0000 C CNN
F 1 "KEY" H 4850 1220 50  0000 C CNN
F 2 "" H 4850 1300 50  0000 C CNN
F 3 "" H 4850 1300 50  0000 C CNN
	1    4850 1300
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW?
U 1 1 5865E0C5
P 6600 1300
F 0 "SW?" H 6750 1410 50  0000 C CNN
F 1 "KEY" H 6600 1220 50  0000 C CNN
F 2 "" H 6600 1300 50  0000 C CNN
F 3 "" H 6600 1300 50  0000 C CNN
	1    6600 1300
	1    0    0    -1  
$EndComp
$Comp
L D_Schottky_x2_Serial_AKC D?
U 1 1 5865E59E
P 4850 2000
F 0 "D?" H 4900 1900 50  0000 C CNN
F 1 "BAV99W" H 4850 2100 50  0000 C CNN
F 2 "" H 4850 2000 50  0000 C CNN
F 3 "" H 4850 2000 50  0000 C CNN
	1    4850 2000
	0    -1   1    0   
$EndComp
$Comp
L SW_PUSH SW?
U 1 1 5865E6F5
P 4850 2700
F 0 "SW?" H 5000 2810 50  0000 C CNN
F 1 "KEY" H 4850 2620 50  0000 C CNN
F 2 "" H 4850 2700 50  0000 C CNN
F 3 "" H 4850 2700 50  0000 C CNN
	1    4850 2700
	1    0    0    -1  
$EndComp
$Comp
L D_Schottky_x2_Serial_AKC D?
U 1 1 5865E727
P 4850 3350
F 0 "D?" H 4900 3250 50  0000 C CNN
F 1 "BAV99W" H 4850 3450 50  0000 C CNN
F 2 "" H 4850 3350 50  0000 C CNN
F 3 "" H 4850 3350 50  0000 C CNN
	1    4850 3350
	0    -1   1    0   
$EndComp
$Comp
L D_Schottky_x2_Serial_AKC D?
U 1 1 5865E7C7
P 3850 3350
F 0 "D?" H 3900 3250 50  0000 C CNN
F 1 "BAV99W" H 3850 3450 50  0000 C CNN
F 2 "" H 3850 3350 50  0000 C CNN
F 3 "" H 3850 3350 50  0000 C CNN
	1    3850 3350
	0    -1   1    0   
$EndComp
$Comp
L SW_PUSH SW?
U 1 1 5865E7F8
P 3800 2700
F 0 "SW?" H 3950 2810 50  0000 C CNN
F 1 "KEY" H 3800 2620 50  0000 C CNN
F 2 "" H 3800 2700 50  0000 C CNN
F 3 "" H 3800 2700 50  0000 C CNN
	1    3800 2700
	1    0    0    -1  
$EndComp
Text Label 3400 950  2    60   ~ 0
COL0
Text Label 4400 950  2    60   ~ 0
COL1
Text Label 2300 2450 0    60   ~ 0
ROW0
Text Label 2300 3750 0    60   ~ 0
ROW1
Text Notes 5600 1000 0    197  ~ 0
...
Text Notes 2300 4350 0    197  ~ 0
...
Text Label 6200 950  2    60   ~ 0
COL14
$Comp
L D_Schottky_x2_Serial_AKC D?
U 1 1 5865EE52
P 6650 2000
F 0 "D?" H 6700 1900 50  0000 C CNN
F 1 "BAV99W" H 6650 2100 50  0000 C CNN
F 2 "" H 6650 2000 50  0000 C CNN
F 3 "" H 6650 2000 50  0000 C CNN
	1    6650 2000
	0    -1   1    0   
$EndComp
$Comp
L SW_PUSH SW?
U 1 1 5865F0A9
P 6600 2700
F 0 "SW?" H 6750 2810 50  0000 C CNN
F 1 "KEY" H 6600 2620 50  0000 C CNN
F 2 "" H 6600 2700 50  0000 C CNN
F 3 "" H 6600 2700 50  0000 C CNN
	1    6600 2700
	1    0    0    -1  
$EndComp
$Comp
L D_Schottky_x2_Serial_AKC D?
U 1 1 5865F0B1
P 6650 3350
F 0 "D?" H 6700 3250 50  0000 C CNN
F 1 "BAV99W" H 6650 3450 50  0000 C CNN
F 2 "" H 6650 3350 50  0000 C CNN
F 3 "" H 6650 3350 50  0000 C CNN
	1    6650 3350
	0    -1   1    0   
$EndComp
$Comp
L SW_PUSH SW?
U 1 1 5865F827
P 3800 4750
F 0 "SW?" H 3950 4860 50  0000 C CNN
F 1 "KEY" H 3800 4670 50  0000 C CNN
F 2 "" H 3800 4750 50  0000 C CNN
F 3 "" H 3800 4750 50  0000 C CNN
	1    3800 4750
	1    0    0    -1  
$EndComp
$Comp
L D_Schottky_x2_Serial_AKC D?
U 1 1 5865F82D
P 3850 5400
F 0 "D?" H 3900 5300 50  0000 C CNN
F 1 "BAV99W" H 3850 5500 50  0000 C CNN
F 2 "" H 3850 5400 50  0000 C CNN
F 3 "" H 3850 5400 50  0000 C CNN
	1    3850 5400
	0    -1   1    0   
$EndComp
Text Label 2300 5800 0    60   ~ 0
ROW4
$Comp
L SW_PUSH SW?
U 1 1 5865FB6E
P 4850 4750
F 0 "SW?" H 5000 4860 50  0000 C CNN
F 1 "KEY" H 4850 4670 50  0000 C CNN
F 2 "" H 4850 4750 50  0000 C CNN
F 3 "" H 4850 4750 50  0000 C CNN
	1    4850 4750
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW?
U 1 1 5865FBB4
P 6650 4750
F 0 "SW?" H 6800 4860 50  0000 C CNN
F 1 "KEY" H 6650 4670 50  0000 C CNN
F 2 "" H 6650 4750 50  0000 C CNN
F 3 "" H 6650 4750 50  0000 C CNN
	1    6650 4750
	1    0    0    -1  
$EndComp
$Comp
L D_Schottky_x2_Serial_AKC D?
U 1 1 5865FBFD
P 4900 5400
F 0 "D?" H 4950 5300 50  0000 C CNN
F 1 "BAV99W" H 4900 5500 50  0000 C CNN
F 2 "" H 4900 5400 50  0000 C CNN
F 3 "" H 4900 5400 50  0000 C CNN
	1    4900 5400
	0    -1   1    0   
$EndComp
$Comp
L D_Schottky_x2_Serial_AKC D?
U 1 1 5865FDD8
P 6700 5400
F 0 "D?" H 6750 5300 50  0000 C CNN
F 1 "BAV99W" H 6700 5500 50  0000 C CNN
F 2 "" H 6700 5400 50  0000 C CNN
F 3 "" H 6700 5400 50  0000 C CNN
	1    6700 5400
	0    -1   1    0   
$EndComp
Text Notes 3650 4350 0    197  ~ 0
...
Text Notes 4750 4350 0    197  ~ 0
...
Text Notes 5550 4350 0    197  ~ 0
...
Text Notes 6500 4350 0    197  ~ 0
...
Text Notes 5550 5300 0    197  ~ 0
...
Text Notes 5550 3250 0    197  ~ 0
...
Text Notes 5600 2050 0    197  ~ 0
...
Text HLabel 1950 1600 0    60   BiDi ~ 0
~KEY_INT
Entry Wire Line
	2200 2550 2300 2450
Entry Wire Line
	2200 3850 2300 3750
Entry Wire Line
	2200 5900 2300 5800
Text HLabel 1950 2000 0    60   BiDi ~ 0
KEY_ROWS
Entry Wire Line
	3400 950  3500 850 
Entry Wire Line
	4400 950  4500 850 
Entry Wire Line
	6200 950  6300 850 
Text HLabel 1950 850  0    60   BiDi ~ 0
KEY_COL
Text Notes 950  6750 0    60   ~ 0
Matrix Mode
Text Notes 1000 7000 0    60   ~ 0
Scanning
Text Notes 950  7350 0    60   ~ 0
Power Down
Text Notes 1650 6750 0    60   ~ 0
Pin
Text Notes 1650 6900 0    60   ~ 0
KEY_INT
Text Notes 1650 7000 0    60   ~ 0
ROWn
Text Notes 1650 7100 0    60   ~ 0
COLn
Text Notes 2100 6750 0    60   ~ 0
Pin Mode \n/ Direction
Text Notes 2100 6900 0    60   ~ 0
Out
Text Notes 2100 7000 0    60   ~ 0
Out
Text Notes 2100 7100 0    60   ~ 0
In / P.U.
Text Notes 2750 6750 0    60   ~ 0
Comment
Text Notes 2750 7000 0    60   ~ 0
Drive '0' to select a row to read, drive '1' to others
Text Notes 2750 7100 0    60   ~ 0
Read the column ports to discover key states for the selected row.  '0'=Key Pressed.
Text Notes 2750 6900 0    60   ~ 0
Drive '0' to not interfere with scan.
Text Notes 1650 7250 0    60   ~ 0
KEY_INT
Text Notes 1650 7350 0    60   ~ 0
ROWn
Text Notes 1650 7450 0    60   ~ 0
COLn
Text Notes 2100 7250 0    60   ~ 0
In / P.U.
Text Notes 2100 7350 0    60   ~ 0
Out
Text Notes 2100 7450 0    60   ~ 0
Out
Text Notes 2750 7250 0    60   ~ 0
Used as interrupt to wake MCU in this mode.  Enable P.U. on pin.  '0'=Key Pressed.
Text Notes 2750 7350 0    60   ~ 0
Drive '1' to deselect all rows.
Text Notes 2750 7450 0    60   ~ 0
Drive '0' to select all collumns.
Text Label 2000 2000 0    60   ~ 0
ROW[4:0]
Text Label 2050 850  0    60   ~ 0
COL[14:0]
Text HLabel 9300 3000 0    60   Input ~ 0
CAPS_LED_EN
$Comp
L Q_NMOS_DGS Q?
U 1 1 5866738A
P 9800 3000
F 0 "Q?" H 10100 3050 50  0000 R CNN
F 1 "Q_NMOS_DGS" H 10450 2950 50  0000 R CNN
F 2 "" H 10000 3100 50  0000 C CNN
F 3 "" H 9800 3000 50  0000 C CNN
	1    9800 3000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5866748B
P 9900 3450
F 0 "#PWR?" H 9900 3200 50  0001 C CNN
F 1 "GND" H 9900 3300 50  0000 C CNN
F 2 "" H 9900 3450 50  0000 C CNN
F 3 "" H 9900 3450 50  0000 C CNN
	1    9900 3450
	1    0    0    -1  
$EndComp
$Comp
L VCOM #PWR?
U 1 1 5866753E
P 9900 1600
F 0 "#PWR?" H 9900 1450 50  0001 C CNN
F 1 "VCOM" H 9900 1750 50  0000 C CNN
F 2 "" H 9900 1600 50  0000 C CNN
F 3 "" H 9900 1600 50  0000 C CNN
	1    9900 1600
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 58667578
P 9900 2450
F 0 "R?" V 9980 2450 50  0000 C CNN
F 1 "150" V 9900 2450 50  0000 C CNN
F 2 "" V 9830 2450 50  0000 C CNN
F 3 "" H 9900 2450 50  0000 C CNN
	1    9900 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 950  3400 4750
Wire Wire Line
	4400 950  4400 4750
Wire Wire Line
	2300 2450 6650 2450
Wire Wire Line
	3500 1300 3400 1300
Connection ~ 3400 1300
Wire Wire Line
	3850 2300 3850 2450
Connection ~ 3850 2450
Wire Wire Line
	4050 2000 4150 2000
Wire Wire Line
	4100 1300 4150 1300
Wire Wire Line
	4150 1300 4150 2000
Wire Wire Line
	4400 1300 4550 1300
Connection ~ 4400 1300
Wire Wire Line
	4850 2300 4850 2450
Connection ~ 4850 2450
Wire Wire Line
	5150 1300 5200 1300
Wire Wire Line
	5050 2000 5200 2000
Wire Wire Line
	5200 2000 5200 1300
Wire Wire Line
	3850 1600 3850 1700
Connection ~ 3850 1600
Wire Wire Line
	4850 1600 4850 1700
Connection ~ 4850 1600
Wire Wire Line
	3500 2700 3400 2700
Connection ~ 3400 2700
Wire Wire Line
	4100 2700 4150 2700
Wire Wire Line
	4150 2700 4150 3350
Wire Wire Line
	4150 3350 4050 3350
Wire Wire Line
	2300 3750 6650 3750
Wire Wire Line
	3850 3650 3850 3750
Connection ~ 3850 3750
Wire Wire Line
	4850 3650 4850 3750
Connection ~ 4850 3750
Wire Wire Line
	5150 2700 5200 2700
Wire Wire Line
	5200 2700 5200 3350
Wire Wire Line
	5200 3350 5050 3350
Wire Wire Line
	4550 2700 4400 2700
Connection ~ 4400 2700
Wire Wire Line
	3200 1600 3200 5000
Connection ~ 3200 1600
Wire Wire Line
	3200 2950 6650 2950
Connection ~ 3200 2950
Wire Wire Line
	3850 3050 3850 2950
Connection ~ 3850 2950
Wire Wire Line
	4850 3050 4850 2950
Connection ~ 4850 2950
Wire Wire Line
	6200 950  6200 4750
Wire Wire Line
	6200 1300 6300 1300
Connection ~ 6200 1300
Wire Wire Line
	6650 1600 6650 1700
Connection ~ 6650 1600
Wire Wire Line
	6900 1300 6950 1300
Wire Wire Line
	6950 1300 6950 2000
Wire Wire Line
	6950 2000 6850 2000
Wire Wire Line
	6650 2450 6650 2300
Connection ~ 6650 2450
Wire Wire Line
	1950 1600 6650 1600
Wire Wire Line
	6200 2700 6300 2700
Wire Wire Line
	6650 2950 6650 3050
Connection ~ 6650 2950
Wire Wire Line
	6900 2700 6950 2700
Wire Wire Line
	6950 2700 6950 3350
Wire Wire Line
	6950 3350 6850 3350
Wire Wire Line
	6650 3750 6650 3650
Connection ~ 6650 3750
Wire Wire Line
	2300 5800 6700 5800
Wire Wire Line
	3850 5000 3850 5100
Connection ~ 3850 5000
Wire Wire Line
	4100 4750 4150 4750
Wire Wire Line
	4150 4750 4150 5400
Wire Wire Line
	4150 5400 4050 5400
Wire Wire Line
	3850 5800 3850 5700
Connection ~ 3850 5800
Wire Wire Line
	3200 5000 6700 5000
Wire Wire Line
	3400 4750 3500 4750
Wire Wire Line
	6200 4750 6350 4750
Wire Wire Line
	4400 4750 4550 4750
Wire Wire Line
	5150 4750 5200 4750
Wire Wire Line
	5200 4750 5200 5400
Wire Wire Line
	5200 5400 5100 5400
Wire Wire Line
	6700 5000 6700 5100
Wire Wire Line
	6950 4750 7000 4750
Wire Wire Line
	7000 4750 7000 5400
Wire Wire Line
	7000 5400 6900 5400
Wire Wire Line
	6700 5800 6700 5700
Wire Wire Line
	4900 5100 4900 5000
Connection ~ 4900 5000
Wire Wire Line
	4900 5700 4900 5800
Connection ~ 4900 5800
Wire Bus Line
	2200 2000 2200 5900
Wire Bus Line
	2200 2000 1950 2000
Wire Bus Line
	1950 850  6300 850 
Wire Notes Line
	850  6550 850  7550
Wire Notes Line
	850  7550 6750 7550
Wire Notes Line
	6750 7550 6750 6550
Wire Notes Line
	6750 6550 850  6550
Wire Notes Line
	1550 6550 1550 7550
Wire Notes Line
	850  7150 6750 7150
Wire Notes Line
	850  6800 6750 6800
Wire Notes Line
	2050 6550 2050 7550
Wire Notes Line
	2650 6550 2650 7550
Wire Wire Line
	9300 3000 9600 3000
Wire Wire Line
	9900 3200 9900 3450
Wire Wire Line
	9900 2600 9900 2800
$Comp
L LED D?
U 1 1 586676C9
P 9900 1950
F 0 "D?" H 9900 2050 50  0000 C CNN
F 1 "LED" H 9900 1850 50  0000 C CNN
F 2 "" H 9900 1950 50  0000 C CNN
F 3 "" H 9900 1950 50  0000 C CNN
	1    9900 1950
	0    -1   -1   0   
$EndComp
Wire Wire Line
	9900 1600 9900 1750
Wire Wire Line
	9900 2150 9900 2300
Text Notes 9000 1200 0    60   ~ 0
CAPS LED\n\nUse higher unregulated voltage\nto ensure the LED is driven.
$EndSCHEMATC
